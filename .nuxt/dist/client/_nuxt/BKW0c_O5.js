import{_,r,y as p,g as v,c as t,a as n,t as d,j as g,o as s}from"./CrcHS_TD.js";const h={class:"noticia-detalle"},m={class:"max-width"},f={key:0,class:"loading"},y={key:1,class:"error"},k={key:2},E=["src"],x={__name:"[id]",setup(I){const e=r(null),c=r(!0),l=r(null),i=p().params.id,u=async()=>{console.log("Iniciando la carga de la noticia con id:",i);try{const o=await fetch(`http://localhost:3001/api/noticias/${i}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!o.ok)throw console.error("Error en la respuesta:",o.statusText),new Error("Error al obtener noticia: "+o.statusText);const a=await o.json();console.log("Respuesta de la API:",a),a&&a.noticia?(e.value=a.noticia,console.log("Noticia encontrada:",e.value)):(l.value="Noticia no encontrada.",console.log("No se encontró la noticia para el id:",i))}catch(o){console.error("Error al obtener la noticia:",o),l.value="Error al cargar la noticia. Inténtalo más tarde."}finally{c.value=!1,console.log("Carga de noticia completada, estado de carga:",c.value)}};return v(()=>{console.log("Componente montado, cargando la noticia"),u()}),(o,a)=>(s(),t("div",null,[n("section",h,[n("div",m,[a[0]||(a[0]=n("br",null,null,-1)),c.value?(s(),t("div",f,"Cargando...")):l.value?(s(),t("div",y,d(l.value),1)):(s(),t("div",k,[n("h3",null,d(e.value.titulo),1),n("p",null,d(e.value.descripcion),1),e.value.archivo?(s(),t("img",{key:0,src:e.value.archivo,alt:"Imagen de la noticia"},null,8,E)):g("",!0)]))])])]))}},C=_(x,[["__scopeId","data-v-21536d17"]]);export{C as default};
