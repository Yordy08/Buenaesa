import{_ as m,r as n,c,a as e,p as f,q as r,v as l,s as v,o as _,x as w}from"./CrcHS_TD.js";import{S as u}from"./B0Dix5B2.js";const g={class:"login-page"},x={class:"form-container animate__animated animate__fadeInDown"},b={class:"input-group"},S={class:"input-group"},y={__name:"login",setup(B){const o=n(""),s=n(""),d=v(),p=async()=>{var a;try{const t=await $fetch("http://localhost:3001/usuarios/login",{method:"POST",body:{email:o.value,password:s.value}});await u.fire({icon:"success",title:"¡Bienvenido!",text:"Inicio de sesión exitoso",timer:2e3,showConfirmButton:!1}),localStorage.setItem("usuario",JSON.stringify(t.usuario)),await d.push("/"),await w()}catch(t){console.error(t),u.fire({icon:"error",title:"Oops...",text:((a=t==null?void 0:t.data)==null?void 0:a.error)||"Error al iniciar sesión",confirmButtonColor:"#F27474"})}};return(a,t)=>(_(),c("div",g,[e("div",x,[t[5]||(t[5]=e("h2",null,"Iniciar Sesión",-1)),e("form",{onSubmit:f(p,["prevent"])},[e("div",b,[t[2]||(t[2]=e("label",null,"Email",-1)),r(e("input",{"onUpdate:modelValue":t[0]||(t[0]=i=>o.value=i),type:"email",placeholder:"Tu email",required:""},null,512),[[l,o.value]])]),e("div",S,[t[3]||(t[3]=e("label",null,"Contraseña",-1)),r(e("input",{"onUpdate:modelValue":t[1]||(t[1]=i=>s.value=i),type:"password",placeholder:"Tu contraseña",required:""},null,512),[[l,s.value]])]),t[4]||(t[4]=e("button",{type:"submit",class:"btn-submit"},"Entrar",-1))],32)])]))}},T=m(y,[["__scopeId","data-v-a009ff8d"]]);export{T as default};
