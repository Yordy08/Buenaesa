{"file":"All.vue.mjs","mappings":";;;;;;AA+CmB,QAAI,CAAA,CAAE;AACvB,UAAM,uBAAuB,IAAI,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","names":[],"sources":["../../../../pages/All.vue"],"sourcesContent":["<template>\r\n    <div class=\"container mt-5 pt-5\">\r\n      <div v-for=\"(noticiasCategoria, categoria) in noticiasPorCategoria\" :key=\"categoria\" class=\"mb-5\">\r\n        <h2 class=\"mb-4 border-bottom pb-2\" style=\"color: #F23568;\">{{ categoria }}</h2>\r\n  \r\n        <div class=\"row\">\r\n          <div \r\n            v-for=\"noticia in noticiasCategoria\" \r\n            :key=\"noticia._id\" \r\n            class=\"col-md-4 mb-4 d-flex\"\r\n          >\r\n            <div class=\"card flex-fill\" style=\"min-height: 100%;\">\r\n              <img \r\n                v-if=\"noticia.archivo\"\r\n                :src=\"noticia.archivo\" \r\n                class=\"card-img-top\"\r\n                alt=\"Imagen noticia\"\r\n                style=\"height: 200px; object-fit: cover;\"\r\n              />\r\n              <div class=\"card-body d-flex flex-column\">\r\n                <h5 class=\"card-title\">{{ noticia.titulo }}</h5>\r\n                <p class=\"card-text flex-grow-1\">\r\n                  {{ noticia.descripcion.length > 120 ? noticia.descripcion.slice(0, 120) + '...' : noticia.descripcion }}\r\n                </p>\r\n                <router-link \r\n                  :to=\"`/Notis/${noticia._id}`\" \r\n                  class=\"btn btn-outline-primary mt-auto\"\r\n                >\r\n                  Leer más\r\n                </router-link>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n  \r\n      </div>\r\n  \r\n      <div v-if=\"Object.keys(noticiasPorCategoria).length === 0\" class=\"text-center mt-5\">\r\n        <h4>No hay noticias disponibles.</h4>\r\n      </div>\r\n  \r\n    </div>\r\n  </template>\r\n  \r\n  <script setup>\r\n  import { ref, onMounted } from 'vue'\r\n  \r\n  const noticias = ref([])\r\n  const noticiasPorCategoria = ref({})\r\n  \r\n  const obtenerNoticias = async () => {\r\n    try {\r\n      const data = await $fetch('http://localhost:3001/api/noticias') // Ajusta la URL si es necesario\r\n      noticias.value = data\r\n  \r\n      // Agrupar noticias por su categoría\r\n      noticiasPorCategoria.value = data.reduce((acc, noticia) => {\r\n        const categoria = noticia.categoria || 'Sin Categoría'\r\n        if (!acc[categoria]) {\r\n          acc[categoria] = []\r\n        }\r\n        acc[categoria].push(noticia)\r\n        return acc\r\n      }, {})\r\n      \r\n      console.log('Noticias agrupadas:', noticiasPorCategoria.value)\r\n      \r\n    } catch (error) {\r\n      console.error('Error al obtener noticias:', error)\r\n    }\r\n  }\r\n  \r\n  onMounted(() => {\r\n    obtenerNoticias()\r\n  })\r\n  </script>\r\n  "],"version":3}