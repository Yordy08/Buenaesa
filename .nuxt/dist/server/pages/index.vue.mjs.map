{"version":3,"file":"index.vue.mjs","sources":["../../../../pages/index.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <!-- CAROUSEL -->\r\n    <section \r\n  class=\"pt-5\" \r\n  style=\"background: linear-gradient(to right, #F23568, #0FA6A6); min-height: 95vh; display: flex; justify-content: center; align-items: center; text-align: center;\"\r\n>\r\n  <div class=\"container\">\r\n    <div id=\"newsCarousel\" class=\"carousel slide\" data-bs-ride=\"carousel\" data-bs-interval=\"3000\">\r\n      <div class=\"carousel-inner\">\r\n        <div \r\n          v-for=\"(noticia, index) in primerasNoticias\" \r\n          :key=\"noticia._id\" \r\n          :class=\"['carousel-item', { active: index === 0 }]\"\r\n        >\r\n          <img \r\n            :src=\"noticia.archivo\" \r\n            alt=\"Imagen\" \r\n            class=\"d-block w-100\" \r\n            v-if=\"noticia.archivo\"\r\n            style=\"max-height: 80vh; object-fit: cover; width: 100%;\"\r\n          >\r\n\r\n          <!-- TEXTO EN ESCRITORIO (flotando sobre la imagen) -->\r\n          <div \r\n            class=\"carousel-caption d-none d-md-block p-3 rounded\" \r\n            style=\"background: rgba(0, 0, 0, 0.6); backdrop-filter: blur(5px); border-radius: 1rem;\"\r\n          >\r\n            <h5 class=\"fw-bold text-white\">{{ noticia.titulo }}</h5>\r\n            <p class=\"text-light\">\r\n              {{ noticia.descripcion.length > 230 ? noticia.descripcion.slice(0, 230) + '...' : noticia.descripcion }}\r\n            </p>\r\n            <center>\r\n             <router-link \r\n              :to=\"`/Notis/${noticia._id}`\" \r\n              class=\"btn btn-outline-light mt-2\"\r\n            >\r\n              Ver más\r\n            </router-link> \r\n            </center>\r\n       \r\n\r\n\r\n          </div>\r\n\r\n          <!-- TEXTO EN CELULAR (debajo de la imagen) -->\r\n          <div class=\"d-block d-md-none text-center mt-3\">\r\n            <h5 class=\"fw-bold text-white\">{{ noticia.titulo }}</h5>\r\n            <p class=\"text-light\">\r\n              {{ noticia.descripcion.length > 230 ? noticia.descripcion.slice(0, 230) + '...' : noticia.descripcion }}\r\n            </p>\r\n            <a \r\n  :href=\"`/Notis/${noticia._id}`\" \r\n  class=\"btn btn-outline-light mt-2\"\r\n>\r\n  Ver más\r\n</a>\r\n\r\n          </div>\r\n\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Botones de control del carrusel -->\r\n      <button class=\"carousel-control-prev\" type=\"button\" data-bs-target=\"#newsCarousel\" data-bs-slide=\"prev\">\r\n        <span class=\"carousel-control-prev-icon\" aria-hidden=\"true\"></span>\r\n        <span class=\"visually-hidden\">Anterior</span>\r\n      </button>\r\n      <button class=\"carousel-control-next\" type=\"button\" data-bs-target=\"#newsCarousel\" data-bs-slide=\"next\">\r\n        <span class=\"carousel-control-next-icon\" aria-hidden=\"true\"></span>\r\n        <span class=\"visually-hidden\">Siguiente</span>\r\n      </button>\r\n    </div>\r\n  </div>\r\n</section>\r\n\r\n\r\n\r\n\r\n    <!-- NOTICIAS -->\r\n    <section id=\"noticias\" class=\"py-5\">\r\n      <div class=\"container\">\r\n        <!-- Noticias por categoría -->\r\n        <div v-for=\"(noticiasCategoria, categoria) in noticiasPorCategoria\" :key=\"categoria\" class=\"mb-5\">\r\n          <h3 class=\"mb-3\">{{ categoria }}</h3>\r\n          <!-- Slider -->\r\n          <div class=\"slider-container\">\r\n            <div class=\"slider\" :id=\"`slider-${categoria}`\">\r\n              <div class=\"card\" v-for=\"noticia in noticiasCategoria\" :key=\"noticia._id\">\r\n                <img :src=\"noticia.archivo\" alt=\"Imagen\" class=\"card-img-top\" v-if=\"noticia.archivo\">\r\n                <div class=\"card-body\">\r\n                  <h5 class=\"card-title\">{{ noticia.titulo.length > 10 ? noticia.descripcion.slice(0, 120) + '...' :noticia.titulo }}</h5>\r\n                  <div class=\"mt-auto text-center\">\r\n                    \r\n                    <a :href=\"`/Notis/${noticia._id}`\" class=\"btn btn-outline-info\">Explorar Noticias</a>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <!-- Botones de flechas para el slider -->\r\n            <div class=\"slider-buttons\">\r\n              <button @click=\"scrollLeft(categoria)\" class=\"slider-button-left\">‹</button>\r\n              <button @click=\"scrollRight(categoria)\" class=\"slider-button-right\">›</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted } from 'vue'\r\n\r\nconst noticias = ref([])\r\nconst primerasNoticias = ref([])\r\nconst noticiasPorCategoria = ref({})\r\n\r\nconst obtenerNoticias = async () => {\r\n  try {\r\n    noticias.value = await $fetch('/api/noticias')\r\n    agruparPorCategoria()\r\n    filtrarNoticiasRecientes()\r\n  } catch (error) {\r\n    console.error('Error al obtener noticias:', error)\r\n  }\r\n}\r\n\r\nconst agruparPorCategoria = () => {\r\n  noticiasPorCategoria.value = {}\r\n  noticias.value.forEach((noticia) => {\r\n    if (!noticiasPorCategoria.value[noticia.categoria]) {\r\n      noticiasPorCategoria.value[noticia.categoria] = []\r\n    }\r\n    noticiasPorCategoria.value[noticia.categoria].push(noticia)\r\n  })\r\n}\r\n\r\nconst filtrarNoticiasRecientes = () => {\r\n  noticias.value.sort((a, b) => new Date(b.fecha) - new Date(a.fecha))\r\n  primerasNoticias.value = noticias.value.slice(0, 3)\r\n}\r\n\r\nconst scrollLeft = (categoria) => {\r\n  const slider = document.getElementById(`slider-${categoria}`)\r\n  slider.scrollLeft -= 300\r\n}\r\n\r\nconst scrollRight = (categoria) => {\r\n  const slider = document.getElementById(`slider-${categoria}`)\r\n  slider.scrollLeft += 300\r\n}\r\n\r\nonMounted(() => {\r\n  obtenerNoticias()\r\n})\r\n</script>\r\n\r\n<style scoped>\r\n/* Slider contenedor */\r\n.slider-container {\r\n  position: relative;\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n\r\n/* Slider */\r\n.slider {\r\n  display: flex;\r\n  scroll-behavior: smooth;\r\n  padding: 10px 0;\r\n  overflow-x: hidden;\r\n  overflow-y: hidden;\r\n  -webkit-overflow-scrolling: touch;\r\n}\r\n\r\n/* Card */\r\n.card {\r\n  flex: 0 0 auto;\r\n  width: 250px;\r\n  margin-right: 20px;\r\n  background: white;\r\n  border-radius: 10px;\r\n  box-shadow: #0FA6A6;\r\n  transition: transform 0.3s;\r\n}\r\n.card:hover {\r\n  transform: scale(1.05);\r\n}\r\n.card-img-top {\r\n  width: 100%;\r\n  height: 150px;\r\n  object-fit: cover;\r\n  border-top-left-radius: 10px;\r\n  border-top-right-radius: 10px;\r\n}\r\n\r\n/* Botones de slider */\r\n.slider-buttons {\r\n  position: absolute;\r\n  top: 50%;\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  transform: translateY(-50%);\r\n}\r\n.slider-button-left,\r\n.slider-button-right {\r\n  background-color: #0FA6A6;\r\n  border: none;\r\n  color: white;\r\n  font-size: 24px;\r\n  padding: 8px 16px;\r\n  border-radius: 50%;\r\n  cursor: pointer;\r\n  opacity: 0.7;\r\n  transition: background 0.3s;\r\n}\r\n.slider-button-left:hover,\r\n.slider-button-right:hover {\r\n  background-color: #F23568;\r\n}\r\n\r\n/* CAROUSEL */\r\n.carousel-inner {\r\n  display: flex;\r\n  transition: transform 0.5s ease-in-out;\r\n}\r\n\r\n.carousel-item {\r\n  min-width: 100%;\r\n  box-sizing: border-box;\r\n}\r\n\r\n.carousel-caption {\r\n  position: absolute;\r\n  bottom: 15%;\r\n  left: 5%;\r\n  right: 5%;\r\n  background-color: #0fa6a685;\r\n  padding: 10px 20px;\r\n  border-radius: 5px;\r\n  color: white;\r\n  text-align: left;\r\n}\r\n\r\n.carousel-caption h5 {\r\n  font-size: 1.5rem;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.carousel-caption p {\r\n  font-size: 1.2rem;\r\n  margin: 0;\r\n}\r\n</style>\r\n"],"names":[],"mappings":";;;;;;;AAkHiB,QAAI,CAAE,CAAA;AACjB,UAAA,mBAAmB,IAAI,EAAE;AACzB,UAAA,uBAAuB,IAAI,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}