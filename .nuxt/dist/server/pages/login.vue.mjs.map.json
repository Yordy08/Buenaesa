{"file":"login.vue.mjs","mappings":";;;;;;;;;AAKA,UAAM,QAAQ,IAAI,EAAE;AACpB,UAAM,WAAW,IAAI,EAAE;AACR,cAAW;;;;;;;;;;;;;","names":[],"sources":["../../../../pages/login.vue"],"sourcesContent":["<script setup>\r\nimport { ref, nextTick } from 'vue'\r\nimport { useRouter } from 'vue-router'\r\nimport Swal from 'sweetalert2'\r\n\r\nconst email = ref('')\r\nconst password = ref('')\r\nconst router = useRouter()\r\n\r\nconst iniciarSesion = async () => {\r\n  try {\r\n    const response = await $fetch('http://localhost:3001/usuarios/login', {\r\n      method: 'POST',\r\n      body: {\r\n        email: email.value,\r\n        password: password.value\r\n      }\r\n    })\r\n\r\n    // Alerta de éxito\r\n    await Swal.fire({\r\n      icon: 'success',\r\n      title: '¡Bienvenido!',\r\n      text: 'Inicio de sesión exitoso',\r\n      timer: 2000,\r\n      showConfirmButton: false\r\n    })\r\n\r\n    // Guardar usuario en localStorage\r\n    localStorage.setItem('usuario', JSON.stringify(response.usuario))\r\n\r\n    // Redirigir a la página de inicio\r\n    await router.push('/') // Redirigir al inicio\r\n\r\n    // Esperar a que Vue haya procesado la redirección antes de actualizar la página\r\n    await nextTick()\r\n\r\n    // Actualizamos el estado de la página\r\n    // Aquí puedes realizar cualquier acción que requieras para actualizar el estado de la página (si es necesario)\r\n    // Si no necesitas recargar, puedes hacer cualquier ajuste aquí\r\n\r\n  } catch (error) {\r\n    console.error(error)\r\n\r\n    // Alerta de error\r\n    Swal.fire({\r\n      icon: 'error',\r\n      title: 'Oops...',\r\n      text: error?.data?.error || 'Error al iniciar sesión',\r\n      confirmButtonColor: '#F27474'\r\n    })\r\n  }\r\n}\r\n</script>\r\n\r\n<template>\r\n  <div class=\"login-page\">\r\n    <div class=\"form-container animate__animated animate__fadeInDown\">\r\n      <h2>Iniciar Sesión</h2>\r\n      <form @submit.prevent=\"iniciarSesion\">\r\n        <div class=\"input-group\">\r\n          <label>Email</label>\r\n          <input v-model=\"email\" type=\"email\" placeholder=\"Tu email\" required />\r\n        </div>\r\n\r\n        <div class=\"input-group\">\r\n          <label>Contraseña</label>\r\n          <input v-model=\"password\" type=\"password\" placeholder=\"Tu contraseña\" required />\r\n        </div>\r\n\r\n        <button type=\"submit\" class=\"btn-submit\">Entrar</button>\r\n      </form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n@import 'https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css';\r\n\r\n.login-page {\r\n  min-height: 100vh;\r\n  background: linear-gradient(135deg, #74ebd5 0%, #ACB6E5 100%);\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n.form-container {\r\n  background: #fff;\r\n  padding: 3rem;\r\n  border-radius: 1rem;\r\n  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);\r\n  width: 100%;\r\n  max-width: 400px;\r\n  text-align: center;\r\n}\r\n\r\n.input-group {\r\n  margin-bottom: 1.5rem;\r\n  text-align: left;\r\n}\r\n\r\n.input-group label {\r\n  display: block;\r\n  margin-bottom: 0.5rem;\r\n  font-weight: bold;\r\n  color: #333;\r\n}\r\n\r\n.input-group input {\r\n  width: 100%;\r\n  padding: 0.75rem;\r\n  border: 1px solid #ccc;\r\n  border-radius: 0.5rem;\r\n  transition: all 0.3s;\r\n}\r\n\r\n.input-group input:focus {\r\n  border-color: #74ebd5;\r\n  outline: none;\r\n  box-shadow: 0 0 5px rgba(116, 235, 213, 0.5);\r\n}\r\n\r\n.btn-submit {\r\n  width: 100%;\r\n  padding: 0.75rem;\r\n  background-color: #74ebd5;\r\n  border: none;\r\n  border-radius: 0.5rem;\r\n  font-weight: bold;\r\n  font-size: 1.1rem;\r\n  cursor: pointer;\r\n  transition: background-color 0.3s;\r\n}\r\n\r\n.btn-submit:hover {\r\n  background-color: #66d3c2;\r\n}\r\n</style>\r\n"],"version":3}